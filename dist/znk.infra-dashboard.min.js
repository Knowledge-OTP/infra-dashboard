!function(a){"use strict";a.module("znk.infra-dashboard",["znk.infra-dashboard.groups","znk.infra-dashboard.modal","znk.infra-dashboard.utils"])}(angular),function(a){"use strict";a.module("znk.infra-dashboard.utils",[])}(angular),function(a){"use strict";a.module("znk.infra-dashboard.groups",[])}(angular),function(a){"use strict";a.module("znk.infra-dashboard.modal",[])}(angular),function(a){"use strict";a.module("znk.infra-dashboard.utils").filter("cutString",[function(){return function(a,b){if(!a)return"";if(a.length<b)return a;for(var c=a.split(" "),d="",e=0;e<c.length&&d.length+c[e].length<=b;e++)d=d+c[e]+" ";return d+"..."}}])}(angular),function(a){"use strict";a.module("znk.infra-dashboard.groups").provider("GroupsService",[function(){var b,c;this.setHelpersServiceName=function(a,d){b=a,c=d},this.$get=["$injector","$q","ENV","$timeout",function(d,e,f,g){function h(){return d.get(b)}function i(){return d.get(c)}function j(){return h().variables.appUserSpacePath+"/groups"}function k(){var a=i().getAuth(),b=h().variables.appUserSpacePath+"/groups";if(a&&a.uid){var c=f.fbDataEndPoint+f.firebaseAppScopeName+"/"+b,d=c.replace("$$uid",a.uid),e=new Firebase(d);e.on("child_added",function(a){g(function(){n[a.key()]=a.val()})}),e.on("child_removed",function(a){g(function(){delete n[a.key()]})})}}var l={},m="assorted",n={};return l.createGroup=function(a){var b=this;return h().get(j()).then(function(c){var d=Object.keys(c).length+1;return c[d]={name:a,groupKey:d},b.setGroups(c)})},l.updateStudent=function(a,b,c){var d=this;return d.getGroup(a).then(function(e){return c?e.students[b]=c:delete e.students[b],d.setGroup(a,e).then(function(){return d.getAllGroups()})})},l.getAllGroups=function(){return e.when(n)},l.moveToGroup=function(b,c,d){var e=this;return e.getGroup(b).then(function(f){var g={};return a.forEach(d,function(a){g[a]=f.students[a],delete f.students[a]}),e.setGroup(b,f).then(function(){return e.getGroup(c).then(function(b){return b.students||(b.students={}),a.forEach(d,function(a){b.students[a]=g[a]}),e.setGroup(c,b).then(function(){return e.getAllGroups()})})})})},l.setGroups=function(a){return h().set(j(),a)},l.setGroup=function(a,b){var c=this;return this.getAllGroups().then(function(d){return d[a]=b,c.setGroups(d)})},l.getGroup=function(a){return this.getAllGroups().then(function(b){return b[a]})},l.deleteGroup=function(b){return l.getAllGroups().then(function(c){var d=a.copy(c[b].students);return delete c[b],a.forEach(d,function(a,b){c[m].students[b]=a}),l.setGroups(c)})},l.editGroupName=function(a,b){return l.getGroup(a).then(function(c){return c.name=b,l.setGroup(a,c)})},k(),l}]}])}(angular),function(a){function b(){var a;this.setBaseTemplatePath=function(b){a=b},this.$get=["$mdDialog",function(b){var c={};return c.showBaseModal=function(c){b.show({locals:{svgIcon:c.svgIcon,innerTemplateUrl:c.innerTemplateUrl,overrideCssClass:c.overrideCssClass,modalData:c.modalData,closeModal:function(){b.hide()}},bindToController:!0,controller:c.controllerName,controllerAs:"vm",templateUrl:a,clickOutsideToClose:!0,escapeToClose:!0})},c}]}a.module("znk.infra-dashboard.modal").provider("ModalService",b)}(angular),angular.module("znk.infra-dashboard").run(["$templateCache",function(a){}]);